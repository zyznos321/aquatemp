from datetime import timedelta
from enum import StrEnum

from homeassistant.components.climate.const import FAN_AUTO, FAN_LOW, HVACMode

DOMAIN = "aqua_temp"
DEFAULT_NAME = "Aqua Temp"
SIGNAL_AQUA_TEMP_DEVICE_NEW = f"signal_{DOMAIN}_device_new"
CONFIGURATION_FILE = f"{DOMAIN}.config.json"
LEGACY_KEY_FILE = f"{DOMAIN}.key"

UPDATE_API_INTERVAL = timedelta(minutes=5)

ADD_COMPONENT_SIGNALS = [SIGNAL_AQUA_TEMP_DEVICE_NEW]

STORAGE_DATA_KEY = "key"

INVALID_TOKEN_SECTION = "https://github.com/radical-squared/aquatemp#invalid-token"

DEFAULT_ENTRY_ID = "config"

HTTP_HEADER_X_TOKEN = "x-token"

CONF_TITLE = "title"
CONF_API_TYPE = "api_type"

PRODUCT_IDS = [
    "1194901186696777728",
    "1239430558124097536",
    "1255021944487620608",
    "1280068488723034112",
    "1339750000640499712",
    "1605555198352117760",
    "1314389730321776640",
    "1534426457089150976",
    "1430840899188973568",
    "1151012720393330688",
    "1390463737449857024",
    "1442056800068329472",
    "1787637595964661762",
    "1659079112307445760",
    "1631478423544852480",
    "1802975574960046081",
    "1501438265440362496",
    "1713838037212577792",
    "1544970221549498368",
    "1559733647991496705",
    "1506552523736190976",
    "1473911871244337152",
    "1552190345066967040",
    "1534450342119510016",
    "1480699335514533888"
]

MANUAL_MUTE_AUTO = "0"
MANUAL_MUTE_LOW = "1"

FAN_MODE_MAPPING = {FAN_AUTO: MANUAL_MUTE_AUTO, FAN_LOW: MANUAL_MUTE_LOW}

POWER_MODE_OFF = "0"
POWER_MODE_ON = "1"

HEADERS = {"Content-Type": "application/json; charset=utf-8"}

API_MAX_ATTEMPTS = 3

DATA_ITEM_DEVICES = "device"
DATA_ITEM_LOGIN_DETAILS = "login-details"
DATA_ITEM_CONFIG = "configuration"

CONFIG_SET_MODE = "mode"
CONFIG_SET_POWER = "power"
CONFIG_SET_TEMPERATURE = "temperature"
CONFIG_SET_FAN = "fan"
CONFIG_SET_CURRENT_TEMPERATURE = "current_temperature"

API_STATUS = "api_status"

PRODUCT_ID_DEFAULT = "default"

CONFIG_HVAC_MODES = "hvac_modes"
CONFIG_HVAC_OFF = str(HVACMode.OFF)
CONFIG_HVAC_HEAT = str(HVACMode.HEAT)
CONFIG_HVAC_COOL = str(HVACMode.COOL)
CONFIG_HVAC_AUTO = str(HVACMode.AUTO)
CONFIG_HVAC_SET = "set"
CONFIG_HVAC_TARGET = "target"
CONFIG_HVAC_MINIMUM = "minimum"
CONFIG_HVAC_MAXIMUM = "maximum"

CONFIG_FAN_MODES = "fan_modes"
CONFIG_FAN_AUTO = "auto"
CONFIG_FAN_LOW = "low"

DEVICE_CONTROL_VALUE = "value"
DEVICE_CONTROL_PARAM = "param"

TO_REDACT = [
    "userId",
    "user_id",
    "userName",
    "user_name",
    "accessKey",
    HTTP_HEADER_X_TOKEN,
]


class ProductParameter(StrEnum):
    MAPPING = "mapping"
    ENTITY_DESCRIPTION = "entity_description"
